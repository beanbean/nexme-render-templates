<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <style>
        /* CSS GIỮ NGUYÊN NHƯ CŨ, CHỈ THÊM CLASS MÀU */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { width: 1080px; height: 1444px; background-color: #DCDDE6; font-family: sans-serif; display: flex; justify-content: center; align-items: center; }
        .card { width: 960px; height: 1300px; background-color: #F0F0F3; border-radius: 50px; padding: 50px; display: flex; flex-direction: column; align-items: center; position: relative; box-shadow: -15px -15px 30px #FFFFFF, 15px 15px 30px rgba(174, 174, 192, 0.4); }
        
        /* Profile & Header CSS (Rút gọn cho đỡ dài dòng) */
        .header { width: 100%; display: flex; justify-content: space-between; margin-bottom: 30px; }
        .title { font-size: 32px; color: #666; font-weight: bold; }
        .badge-on { background: #7CB342; color: white; padding: 5px 20px; border-radius: 30px; font-weight: bold; font-size: 24px; }
        .profile { width: 100%; display: flex; align-items: center; margin-bottom: 40px; }
        .avatar { width: 140px; height: 140px; border-radius: 50%; border: 6px solid #F0F0F3; margin-right: 40px; box-shadow: 8px 8px 16px rgba(163,177,198,0.6); }
        .info h1 { font-size: 46px; color: #444; margin: 0; }
        .info p { font-size: 28px; color: #666; margin: 5px 0; }

        /* STATS BOXES */
        .stats-row { width: 100%; display: flex; gap: 30px; margin-bottom: 50px; }
        .stat-box { flex: 1; height: 180px; background: #F0F0F3; border-radius: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; box-shadow: inset 8px 8px 16px rgba(163,177,198, 0.4), inset -8px -8px 16px #FFFFFF; }
        .stat-value { font-size: 56px; font-weight: 900; margin-bottom: 10px; }
        .stat-label { font-size: 30px; color: #555; font-weight: bold; text-transform: uppercase; }

        /* COLORS */
        .text-orange { color: #E64A19; }
        .text-green { color: #7CB342; }
        .text-grey { color: #BBB; }
        .text-red { color: #ff0000; } /* Dùng cho kg dưới cùng */

        /* GRID SYSTEM */
        .grid { width: 100%; display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px; margin-bottom: 50px; }
        .cell { height: 200px; border-radius: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; background: #F0F0F3; box-shadow: 6px 6px 12px rgba(163,177,198, 0.4), -6px -6px 12px #FFFFFF; }
        
        .cell.loss { background: linear-gradient(135deg, #AED581, #7CB342); color: white; }
        .cell.gain { background: linear-gradient(135deg, #FF7043, #E64A19); color: white; }
        .cell.logged { background: #E0E0E0; color: #666; } /* Đứng cân */
        .cell.future { color: #BBB; }

        .cell-val { font-size: 42px; font-weight: 900; z-index: 2; margin-bottom: 20px; }
        .cell-lbl { position: absolute; bottom: 15px; background: rgba(255,255,255,0.8); padding: 4px 12px; border-radius: 10px; font-size: 16px; color: #555; font-weight: 700; }
        .badge { position: absolute; top: -10px; background: #FF9800; color: white; font-size: 11px; padding: 5px 10px; border-radius: 8px; z-index: 10; font-weight: 900; }

        /* FOOTER */
        .footer { text-align: center; width: 100%; }
        .footer-lbl { font-size: 26px; color: #666; margin-bottom: 20px; text-transform: uppercase; font-weight: 500; }
        .footer-box { display: inline-block; padding: 20px 60px; background: #F0F0F3; border-radius: 25px; box-shadow: 10px 10px 20px rgba(163,177,198, 0.5), -10px -10px 20px #FFFFFF; }
        .footer-val { font-size: 54px; font-weight: 900; }
    </style>
</head>
<body>
    <div class="card">
        <!-- HEADER -->
        <div class="header">
            <div>
                <div class="title">MARATHON GIẢM CÂN</div>
                <div style="font-size: 36px; color: #7F848D; font-weight: 300;">hành trình cá nhân</div>
            </div>
            <div class="badge-on">ON</div>
        </div>

        <!-- PROFILE -->
        <div class="profile">
            <img src="{{default player.avatar 'https://ui-avatars.com/api/?name=User'}}" class="avatar">
            <div class="info">
                <h1>{{player.name}}</h1>
                <p>{{player.team}}</p>
                <p style="color: #4CAF50; font-weight: 500;">Vòng: {{player.round_name}}</p>
                <p>{{player.info_line}}</p>
            </div>
        </div>
        <div style="width:100%; height:4px; background:#7CB342; margin-bottom:50px; opacity:0.8;"></div>

        <!-- BIG STATS -->
        <div class="stats-row">
            <!-- START: Luôn hiện -->
            <div class="stat-box">
                <div class="stat-value text-red">{{formatWeight stats.start_weight}}</div>
                <div class="stat-label">BẮT ĐẦU</div>
            </div>
            
            <!-- FINISH: Chỉ hiện khi xong -->
